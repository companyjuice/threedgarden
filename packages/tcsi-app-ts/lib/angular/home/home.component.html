<div class="main-content">
  <div class="container">
    <div class="content">
      <div class="row">
        <div class="col-md-5">
          <div class="left-side-content">
            <div class="drop-down-wrapper">
              <select class="drop-down-option" (change)="onGroupStoryChange($event)">
                <option value="">select story group</option>
                <option *ngFor="let data of storyGroupData"
                        [selected]="data.id === selectedStoryGroupId" value="{{data.id}}">{{data.title}}
                </option>
              </select>
            </div>

            <div *ngIf="!showEditDiv" class="left-side-content">
              Story not created
            </div>

            <div *ngIf="showEditDiv">
              <!-- <ckeditor  [config]="config" data="<p>Hello, world!</p>"></ckeditor> -->

              <div class="input-group file-input-container">
                <div class="upload-con">
                  <img [src]="showDetailsModal.selectedImage" alt="" class="up-img">
                </div>
              </div>
              <div class="title-dis-container">
                <div class="action-btn-bar">
                  <div class="action-btn-right">
                    <button (click)="playStory()" class="btn editor-btn" title="Play">
                      <img alt="" src="assets/img/play-dark-blue.png">
                    </button>
                    <button class="btn editor-btn" title="key explorer">
                      <img
                        [src]="showDetailsModal.keyExplorer ? 'assets/img/tcsi-icon-home.png' : 'assets/img/key-explorer-inactive.png'"
                        [title]="showDetailsModal.keyExplorer ? 'key explorer' : 'explorer'" alt="">
                    </button>
                  </div>
                  <div class="right-c">
                    <div class="chap-time-txt">
                      <span>{{chapters.length}} chapters</span>
                      <span>00:00:00</span>
                    </div>
                    <div class="view"> <!--(click)="openCountViewModal()"-->
                      <img alt="" src="assets/img/view.png">
                      <p>{{showDetailsModal.count}}</p>
                    </div>
                  </div>
                </div>
                <h4 class="story-title-h">{{showDetailsModal.title}}</h4>
                <p class="story-sub-txt">{{showDetailsModal.description}}</p>
              </div>
            </div>
          </div>
        </div>
        <div class="col-md-7">
          <div class="right-side">
            <div class="right-side-content">
              <div class="sec-heading">
                <h3 class="page-heading">library</h3>
                <div class="page-head-line"></div>
              </div>
              <div *ngFor="let data of storyGroupData;let i=index" class="story-grp">
                <div class="sub-title-n">
                  <h3 class="page-heading">{{data.title}}</h3>
                </div>
                <div class="main-story-con">
                  <div *ngIf="data.stories.length === 0" class="story-grp-container">
                    <div class="story-img no-data">
                      <img src="assets/img/script.png" alt="">
                      <p>Story not created</p>
                    </div>
                  </div>
                  <div *ngIf="data.stories.length > 0" class="story-grp-container">
                    <div (click)="scrollLeft(i)" class="left-arrow">
                      <img src="assets/img/left-arrow-sc.png" alt="">
                    </div>

                    <div #widgetsContent [ngClass]="data.id === selectedStoryGroupId ? 'active_1': ''"
                         class="story-grp-content ">
                      <div class="story-container">
                        <div (click)="viewStory(data, d)" *ngFor="let d of data.stories"
                             class="story-container">
                          <div class="story-img">
                            <img *ngIf="d.key_explorer" alt=""
                                 class="key-expo" src="assets/img/key-expo.png">
                            <img src="{{d.story_image}}" alt="">
                          </div>
                        </div>
                      </div>
                    </div>

                    <div (click)="scrollRight(i)" class="right-arrow">
                      <img src="assets/img/right-arrow-sc.png" alt="">
                    </div>

                    <div *ngIf="data.id === selectedStoryGroupId && selectedStoryId !== 0">
                      <div *ngIf="chapters.length === 0">
                        <div class="story-img no-data">
                          <img src="assets/img/script.png" alt="">
                          <p>Chapter not created</p>
                        </div>
                      </div>
                      <div *ngIf="chapters.length !== 0">
                        <div class="chapter-body zoom-an" *ngFor="let cd of chapters">
                          <div (click)="viewChapter(cd)" (dblclick)="playStory()"
                               [ngClass]="cd.id === selectedChapterId ? 'active_2' : ''"
                               class="chapter-container-in ">
                            <div class="chap-h">
                              <div class="chapter-img">
                                <img *ngIf="cd.key_explorer === 1" alt="" class="key-expo"
                                     src="assets/img/key-expo.png">
                                <img src="{{replaceUrl(cd.chapter_image)}}" alt="">
                              </div>
                              <div class="chapter-content">
                                <a class="chapter-info">
                                  <div class="chapter-header">
                                    <h4>{{cd.title}}</h4>
                                    <div class="view-c"><!--(click)="openCountViewModal()"-->
                                      <img src="assets/img/view.png" alt="">
                                      <p>{{cd.chapterViewerCount === null ? 0 : cd.chapterViewerCount}}</p>
                                    </div>
                                  </div>
                                  <p>{{cd.description}}</p>
                                  <p class="c-time">{{secondsToTime(cd.audio_length)}} </p>
                                </a>
                              </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>

                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="modal fade fade-in-div cous-modal-bg" *ngIf="showCountViewModal">
  <div class="modal-dialog modal-dialog-centered modal-md ">
    <div class="modal-content zoom-an">
      <button type="button" class="m-close-btn" (click)="closeCountViewModal()">
        <span aria-hidden="true">&times;</span>
      </button>
      <div class="modal-body pad-0">
        <div class="view-user-con">
          <h3>Viewed by Users</h3>
          <div class="view-user">
            <div class="view-img">
              <p>RB</p>
            </div>
            <div class="view-info">
              <h5>name</h5>
              <p>abcd@gmail.com</p>
            </div>
            <img src="assets/img/tcsi-icon.png" alt="">
          </div>
          <div class="view-user">
            <div class="view-img">
              <p>RB</p>
            </div>
            <div class="view-info">
              <h5>name</h5>
              <p>abcd@gmail.com</p>
            </div>
          </div>
          <div class="view-user">
            <div class="view-img">
              <p>RB</p>
            </div>
            <div class="view-info">
              <h5>name</h5>
              <p>abcd@gmail.com</p>
            </div>
            <img src="assets/img/tcsi-icon.png" alt="">
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<footer class="footer text-center">
  <p class="footer-txt">Â© 2022 Copyright. All rights reserved</p>
</footer>
<!-- <button (click)="submit()">Thank you page</button> -->
