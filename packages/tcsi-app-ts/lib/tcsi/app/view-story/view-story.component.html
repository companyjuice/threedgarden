<section *ngIf="comingSoon" class="main-wrapper">
  <div class="container">
    <div class="coming-soon">
      <img src="assets/img/coming-soon.png" alt="">
      <h1>coming soon</h1>
      <p>orem ipsum dolor sit amet, consectetur adipiscing elit. Curabitur in dictum elit. Cras suscipit blandit leo
        quis facilisis. Duis commodo lacus vitae purus volutpat luctus</p>
    </div>
  </div>
</section>


<section *ngIf="!comingSoon" class="main-wrapper">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="chap-part">
          <div class="page-head chapter-head-nav">
            <h2>story title: {{(chapterData['story'])?.title}}</h2>
            <div class="drop-down-wrapper wid_25">
              <select (change)="changeChapter($event)" class="drop-down-option">
                <!--                <option value="">select Chapter</option>-->
                <option *ngFor="let data of chapterList" [selected]="chapterId == data.id"
                        value="{{data.id}}">{{data.title}}</option>
                <!--                <option [selected]="chapterId == 11" value="11">11</option>-->
                <!--                <option [selected]="chapterId == 17" value="17">17</option>-->
              </select>
            </div>
          </div>
          <div class="chapter-head-nav">

            <!-- <button class="btn"><img src="assets/img/left-arrow.png" alt=""></button> -->
            <h3>{{chapterData['title']}}</h3>
            <!-- <button class="btn"><img src="assets/img/right-arrow.png" alt=""></button> -->
            <div class="drop-down-wrapper wid_6">
              <select class="drop-down-option">
                <option *ngFor="let data of sequenceArray" [selected]="data.sequence == this.selectedSequence.sequence"
                        disabled
                        value="{{data.sequence}}">{{data.sequence}}</option>
              </select>
            </div>
          </div>
        </div>
      </div>

    </div>
    <div class="row mtb">
      <div class="col-md-5">
      </div>
      <div class="col-md-1">
        <div class="page-div">
          <h6 class="input-txt">Page</h6>
          <div class="input-group input-container-1 ">
            <input class="form-control inp-height pad-0" disabled type="number" value="{{selectedSequence.sequence}}">
          </div>
        </div>
      </div>
      <div class="col-md-2">
        <div class="time-div">
          <h6 class="input-txt">time in</h6>
          <div class="input-group input-container-1 ">
            <input class="form-control inp-height pad-0" disabled type="text" value="{{selectedSequence.time_out}}">
          </div>
        </div>
      </div>
      <div class="col-md-4">
      </div>
    </div>
    <div class="container-main">
      <div appResizable class="left-view">
        <div class="story-img-main">
          <a *ngIf="selectedSequence.embed_link != ''" href="{{selectedSequence.embed_link}}" target="_blank">Embed
            Link</a>
          <img *ngIf="selectedSequence.file_type === 1" alt="" src="{{selectedSequence.file}}">
          <video #videoElement *ngIf="selectedSequence.file_type === 2" [src]="selectedSequence.file"
                 preload="auto"></video>
          <!--PRELOAD VIDEO URLS BEFORE AUDIO PLAY-->
          <ng-container *ngFor="let d of sequenceArray">
            <ng-container *ngIf="d.file_type === 2">
              <video *ngIf="!hideVideo" [src]="d.file" preload="auto" style="display: none"></video>
            </ng-container>
          </ng-container>
        </div>
      </div>
      <div appResizable class="right-view">
        <div>
          <div (click)="changeFontSize()" class="font-set-bar">
            <button class="btn"><img alt="" src="assets/img/font-size.png"></button>
          </div>
          <div class="story-content">
            <p [innerHtml]="selectedSequence.description" [ngStyle]="{'font-size':  fontSize +'px'}"></p>
          </div>
        </div>
        <!-- <div class="story-content-edit">
           <ckeditor  [config]="config" data="<p>Hello, world!</p>"></ckeditor>
        </div> -->
      </div>
    </div>
  </div>
</section>

<section *ngIf="!comingSoon" class="audio-sec">
  <div class="container">
    <div class="row">
      <div class="col-md-12">
        <div class="audio-c">
          <!--<audio *ngIf="audioLength !== 0" #domAudio (canplaythrough)="setDuration($event)" id="audio"
                 style="display: none"></audio>-->
          <span (click)="mute()" class="btn">
              <img [src]="audioMute ? 'assets/img/audio-off.png' : 'assets/img/audio-on.png'" alt="" id="icon-vol-up">
            </span>
          <span (click)="backward()" class="btn">
              <img [src]="currentPageIndex !== 0 ? 'assets/img/backward_active.png' : 'assets/img/backword_grey.png'"
                   alt="">
            </span>
          <span (click)="paused ? play() : pause()" class="icon-align-middle btn">
             <img *ngIf="paused" alt="" id="icon-play"
                  src="assets/img/p-play.png">
              <img *ngIf="!paused" alt="" id="icon-pause"
                   src="assets/img/p-paused.png">
            </span>
          <span (click)="forward()" class="btn">
              <img
                [src]="currentPageIndex !== (sequenceArray.length-1) ? 'assets/img/forward_active.png' : 'assets/img/forward_gray.png'"
                alt="">
            </span>
          <audio #audioElement class="wid-100" controls controlsList="nodownload noplaybackrate"
                 src="{{selectedAudioFile}}"> <!--(canplaythrough)="setDuration($event)"-->
            <p>Your browser does not support HTML5 audio. Here is a <a href="{{selectedAudioFile}}">link</a> instead.
            </p>
          </audio>
        </div>
      </div>
    </div>
  </div>
</section>
